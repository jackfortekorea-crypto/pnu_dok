<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>독도 영유권 역사 타임라인</title>
    <!-- External Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #fcfaf7;
            scroll-behavior: smooth;
        }
        .serif { font-family: 'Noto Serif KR', serif; }
        
        /* Timeline line */
        .timeline-line::before {
            content: '';
            position: absolute;
            left: 50%;
            width: 2px;
            height: 100%;
            background: #e5e7eb;
            transform: translateX(-50%);
            z-index: 0;
        }
        @media (max-width: 768px) {
            .timeline-line::before { left: 30px; }
        }
        
        .timeline-dot {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            z-index: 10;
            border: 2px solid white;
            box-shadow: 0 0 0 4px rgba(0,0,0,0.05);
        }
        @media (max-width: 768px) {
            .timeline-dot { left: 30px; }
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 280px;
            margin: 0 auto;
        }
        
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .card-left { text-align: right; padding-right: 50px; }
        .card-right { text-align: left; padding-left: 50px; }
        
        @media (max-width: 768px) {
            .card-left, .card-right { text-align: left; padding-left: 60px; padding-right: 0; }
        }

        .home-btn:hover {
            background-color: #f1f5f9;
            transform: scale(1.05);
        }
    </style>
</head>
<body class="text-gray-900">

    <!-- Hero Section -->
    <header class="bg-[#0f172a] text-white py-24 px-4 overflow-hidden relative">
        <div class="absolute inset-0 opacity-10 pointer-events-none">
            <div class="absolute top-10 left-10 w-64 h-64 rounded-full bg-blue-500 blur-3xl"></div>
            <div class="absolute bottom-10 right-10 w-96 h-96 rounded-full bg-amber-500 blur-3xl"></div>
        </div>
        <div class="max-w-4xl mx-auto text-center relative z-10">
            <h1 class="text-5xl md:text-6xl font-bold mb-6 serif tracking-tight">독도, 그 영원의 역사</h1>
            <p class="text-xl text-gray-400 font-light leading-relaxed serif italic">
                "우산(독도)과 무릉(울릉도), 두 섬이 서로 거리가 멀지 않아 날씨가 맑으면 바라볼 수 있다"
            </p>
            <div class="mt-10 animate-bounce">
                <span class="text-gray-500 text-sm">스크롤하여 역사 탐색</span>
                <div class="text-2xl">↓</div>
            </div>
        </div>
    </header>

    <!-- Dashboard Section -->
    <section class="max-w-6xl mx-auto px-4 -mt-12 mb-20">
        <div class="bg-white rounded-3xl shadow-2xl p-8 md:p-12 grid grid-cols-1 lg:grid-cols-3 gap-12 items-center border border-gray-100">
            <div class="lg:col-span-1">
                <h2 class="text-2xl font-bold mb-4 serif text-slate-800">역사적 사료 분석</h2>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 bg-emerald-50 rounded-2xl border border-emerald-100 transition-transform hover:scale-105">
                        <div class="flex items-center">
                            <div class="w-3 h-3 rounded-full bg-emerald-500 mr-3"></div>
                            <span class="text-emerald-900 font-bold">전근대 기록</span>
                        </div>
                        <span class="text-emerald-600 font-black">6건</span>
                    </div>
                    <div class="flex items-center justify-between p-4 bg-amber-50 rounded-2xl border border-amber-100 transition-transform hover:scale-105">
                        <div class="flex items-center">
                            <div class="w-3 h-3 rounded-full bg-amber-500 mr-3"></div>
                            <span class="text-amber-900 font-bold">근대 기록</span>
                        </div>
                        <span class="text-amber-600 font-black">4건</span>
                    </div>
                    <div class="flex items-center justify-between p-4 bg-blue-50 rounded-2xl border border-blue-100 transition-transform hover:scale-105">
                        <div class="flex items-center">
                            <div class="w-3 h-3 rounded-full bg-blue-500 mr-3"></div>
                            <span class="text-blue-900 font-bold">현대 기록</span>
                        </div>
                        <span class="text-blue-600 font-black">8건</span>
                    </div>
                </div>
            </div>
            <div class="lg:col-span-2">
                <div class="chart-container">
                    <canvas id="historyChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100 py-4 shadow-sm">
        <div class="max-w-6xl mx-auto px-4 flex justify-between items-center">
            <a href="index.html" class="home-btn flex items-center space-x-2 px-3 py-2 rounded-xl transition-all duration-200 text-slate-700 font-medium">
                <span class="text-xl">⌂</span>
                <span class="text-sm">홈으로</span>
            </a>
            
            <div class="flex space-x-2">
                <button onclick="scrollToYear(1454)" class="px-3 md:px-4 py-2 rounded-full text-[10px] md:text-xs font-bold bg-emerald-100 text-emerald-700 hover:bg-emerald-200 transition">전근대</button>
                <button onclick="scrollToYear(1877)" class="px-3 md:px-4 py-2 rounded-full text-[10px] md:text-xs font-bold bg-amber-100 text-amber-700 hover:bg-amber-200 transition">근대</button>
                <button onclick="scrollToYear(1946)" class="px-3 md:px-4 py-2 rounded-full text-[10px] md:text-xs font-bold bg-blue-100 text-blue-700 hover:bg-blue-200 transition">현대</button>
            </div>
        </div>
    </nav>

    <!-- Timeline Body -->
    <section class="max-w-6xl mx-auto px-4 py-20">
        <div class="relative timeline-line" id="timeline-body"></div>
    </section>

    <footer class="bg-slate-900 text-gray-500 py-16 text-center">
        <p class="text-sm">ⓒ 독도 영유권 역사 아카이브</p>
    </footer>

    <script>
        const historyEvents = [
            { year: 1454, era: "전근대", title: "세종실록지리지", desc: "우산(독도)과 무릉(울릉도)이 강원도 울진현에 속한다고 명확히 기록한 조선의 관찬 문헌." },
            { year: 1531, era: "전근대", title: "신증동국여지승람", desc: "독도가 조선의 영토임을 다시 한번 확증하는 지리지 편찬." },
            { year: 1667, era: "전근대", title: "은주시청합기", desc: "일본의 문헌임에도 독도가 일본의 영토 밖(조선의 땅)임을 기록한 반증 사료." },
            { year: 1693, era: "전근대", title: "1차 안용복 사건", desc: "안용복이 일본으로 끌려가 독도가 조선 땅임을 강력하게 주장한 사건." },
            { year: 1696, era: "전근대", title: "2차 안용복 사건", desc: "일본 막부로부터 '울릉도 도해 금지령'을 끌어내어 영유권을 재확인." },
            { year: 1785, era: "전근대", title: "삼국접양지도", desc: "일본인 하야시 시헤이가 제작한 지도로, 독도를 조선의 색인 황색으로 표기." },
            { year: 1877, era: "근대", title: "태정관 지령", desc: "일본 최고 행정기관이 '독도와 울릉도는 일본과 관계없다'고 공식 결정한 문서." },
            { year: 1900, era: "근대", title: "대한제국 칙령 41호", desc: "고종 황제가 독도를 울릉군 관할로 공식 반포하여 근대 국제법적 영유권 확립." },
            { year: 1905, era: "근대", title: "시마네현 고시 40호", desc: "일제가 러일전쟁 중 독도를 불법적으로 자국 영토에 편입하려 시도함." },
            { year: 1906, era: "근대", title: "심흥택 보고서", desc: "울릉군수 심흥택이 독도의 불법 편입 소식을 듣고 본국 정부에 긴급 보고함." },
            { year: 1946, era: "현대", title: "SCAPIN 제677호", desc: "연합군최고사령관 지령으로 독도를 일본의 통치 범위에서 명확히 배제함." },
            { year: 1951, era: "현대", title: "샌프란시스코 강화조약", desc: "일본의 주권 회복 과정에서 독도 명칭 누락으로 향후 분쟁의 불씨가 됨." },
            { year: 1952, era: "현대", title: "평화선 선포", desc: "이승만 대통령이 독도를 포함한 인접 해양의 주권을 대내외에 선포함." },
            { year: 1953, era: "현대", title: "독도의용수비대", desc: "민간 차원의 수호 활동으로 실효적 지배를 공고히 함." },
            { year: 1965, era: "현대", title: "한일기본조약", desc: "독도 문제를 명시적으로 해결하지 않고 봉합하여 갈등이 잠복됨." },
            { year: 1998, era: "현대", title: "신한일어업협정", desc: "독도가 중간수역에 포함되며 영유권 수호의 중요성이 다시 부각됨." },
            { year: 2005, era: "현대", title: "다케시마의 날 제정", desc: "일본 시마네현의 조례 제정으로 역사 왜곡과 도발이 공식화됨." },
            { year: 2011, era: "현대", title: "일본 교과서 왜곡", desc: "검정 교과서에 독도 영유권을 주장하는 기술을 강화하여 미래 세대를 선동함." }
        ];

        const eraColors = { "전근대": "emerald", "근대": "amber", "현대": "blue" };

        function initTimeline() {
            const container = document.getElementById('timeline-body');
            historyEvents.forEach((event, index) => {
                const isLeft = index % 2 === 0;
                const color = eraColors[event.era];
                const item = document.createElement('div');
                item.id = `year-${event.year}`;
                item.className = `reveal relative mb-24 flex items-center w-full ${isLeft ? 'md:flex-row-reverse' : 'md:flex-row'}`;
                item.innerHTML = `
                    <div class="hidden md:block w-1/2"></div>
                    <div class="timeline-dot bg-${color}-500"></div>
                    <div class="w-full md:w-1/2 ${isLeft ? 'card-left' : 'card-right'}">
                        <div class="bg-white p-6 rounded-3xl shadow-lg border border-gray-50 hover:shadow-xl transition-shadow group">
                            <div class="flex items-center space-x-2 mb-2 ${isLeft ? 'md:flex-row-reverse md:space-x-reverse' : ''}">
                                <span class="text-3xl font-black serif text-${color}-600">${event.year}</span>
                                <span class="px-2 py-0.5 rounded text-[10px] font-bold bg-${color}-100 text-${color}-700 uppercase">${event.era}</span>
                            </div>
                            <h3 class="text-xl font-bold text-slate-800 mb-3 group-hover:text-${color}-600 transition-colors">${event.title}</h3>
                            <p class="text-gray-500 text-sm leading-relaxed">${event.desc}</p>
                        </div>
                    </div>
                `;
                container.appendChild(item);
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        function initChart() {
            const counts = historyEvents.reduce((acc, curr) => {
                acc[curr.era] = (acc[curr.era] || 0) + 1;
                return acc;
            }, {});
            const ctx = document.getElementById('historyChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['전근대', '근대', '현대'],
                    datasets: [{
                        data: [counts['전근대'], counts['근대'], counts['현대']],
                        backgroundColor: ['#10b981', '#f59e0b', '#3b82f6'],
                        borderRadius: 10,
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom' } },
                    cutout: '70%'
                }
            });
        }

        function scrollToYear(year) {
            const el = document.getElementById(`year-${year}`);
            if (el) {
                const offset = 100;
                window.scrollTo({ top: el.getBoundingClientRect().top + window.pageYOffset - offset, behavior: 'smooth' });
            }
        }

        window.onload = () => { initTimeline(); initChart(); };
    </script>
</body>
</html>
