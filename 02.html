---
# Jekyll의 처리를 방지하기 위한 비어있는 Front Matter 설정입니다.
---
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>독도 영유권 역사 타임라인</title>
    <!-- Chart.js만 외부 라이브러리로 유지합니다 (데이터 시각화 필수) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* 기본 스타일 및 폰트 설정 */
        :root {
            --bg-color: #fcfaf7;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --primary-navy: #0f172a;
            --era-pre: #10b981;
            --era-modern: #f59e0b;
            --era-contemp: #3b82f6;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Hero Section */
        header {
            background-color: var(--primary-navy);
            color: var(--white);
            padding: 100px 20px;
            text-align: center;
            position: relative;
        }

        header h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            font-weight: 800;
        }

        header p {
            font-size: 1.25rem;
            color: #94a3b8;
            font-style: italic;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Dashboard Section */
        .dashboard {
            max-width: 1100px;
            margin: -50px auto 60px;
            background: var(--white);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            position: relative;
            z-index: 10;
        }

        .dashboard-info { flex: 1; min-width: 300px; }
        .dashboard-chart { flex: 1.5; min-width: 300px; height: 300px; position: relative; }

        .era-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            margin-bottom: 12px;
            border-radius: 12px;
            font-weight: bold;
        }
        .era-card.pre { background: #ecfdf5; border: 1px solid #d1fae5; color: #065f46; }
        .era-card.mod { background: #fffbeb; border: 1px solid #fef3c7; color: #92400e; }
        .era-card.con { background: #eff6ff; border: 1px solid #dbeafe; color: #1e40af; }

        /* Navigation */
        nav {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid #e2e8f0;
            padding: 15px 20px;
        }

        .nav-container {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .home-btn {
            text-decoration: none;
            color: var(--text-main);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 10px;
            transition: background 0.2s;
        }
        .home-btn:hover { background: #f1f5f9; }

        .nav-filters button {
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            cursor: pointer;
            margin-left: 8px;
            transition: opacity 0.2s;
        }
        .nav-filters button:hover { opacity: 0.8; }
        .btn-pre { background: #d1fae5; color: #065f46; }
        .btn-mod { background: #fef3c7; color: #92400e; }
        .btn-con { background: #dbeafe; color: #1e40af; }

        /* Timeline */
        .timeline-container {
            max-width: 1100px;
            margin: 60px auto;
            padding: 0 20px;
            position: relative;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e2e8f0;
            transform: translateX(-50%);
        }

        .timeline-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 80px;
            position: relative;
        }

        .timeline-item:nth-child(even) { flex-direction: row-reverse; }

        .timeline-content {
            width: 45%;
            background: var(--white);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, opacity 0.6s;
            opacity: 0;
            transform: translateY(20px);
        }

        .timeline-content.active {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-item:nth-child(odd) .timeline-content { text-align: right; }

        .timeline-dot {
            position: absolute;
            left: 50%;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #cbd5e1;
            border: 3px solid var(--white);
            transform: translateX(-50%);
            z-index: 5;
        }

        .item-year { font-size: 2rem; font-weight: 900; margin-bottom: 10px; display: block; }
        .item-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 10px; }
        .item-desc { font-size: 0.95rem; color: var(--text-muted); }

        footer {
            background: var(--primary-navy);
            color: #64748b;
            padding: 60px 20px;
            text-align: center;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .timeline-line { left: 30px; }
            .timeline-item, .timeline-item:nth-child(even) { flex-direction: row; }
            .timeline-dot { left: 30px; }
            .timeline-content { width: calc(100% - 60px); margin-left: 60px; text-align: left !important; }
            header h1 { font-size: 2rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>독도, 그 영원의 역사</h1>
        <p>"우산(독도)과 무릉(울릉도), 두 섬이 서로 거리가 멀지 않아 날씨가 맑으면 바라볼 수 있다"</p>
    </header>

    <section class="dashboard">
        <div class="dashboard-info">
            <h2 style="margin-bottom: 20px;">역사적 사료 분석</h2>
            <div class="era-card pre">
                <span>전근대 기록</span>
                <span id="count-pre">0</span>
            </div>
            <div class="era-card mod">
                <span>근대 기록</span>
                <span id="count-mod">0</span>
            </div>
            <div class="era-card con">
                <span>현대 기록</span>
                <span id="count-con">0</span>
            </div>
        </div>
        <div class="dashboard-chart">
            <canvas id="historyChart"></canvas>
        </div>
    </section>

    <nav>
        <div class="nav-container">
            <a href="index.html" class="home-btn">
                <span>⌂</span> 홈으로
            </a>
            <div class="nav-filters">
                <button class="btn-pre" onclick="scrollToYear(1454)">전근대</button>
                <button class="btn-mod" onclick="scrollToYear(1877)">근대</button>
                <button class="btn-con" onclick="scrollToYear(1946)">현대</button>
            </div>
        </div>
    </nav>

    <div class="timeline-container">
        <div class="timeline-line"></div>
        <div id="timeline-body"></div>
    </div>

    <footer>
        <p>© 독도 영유권 역사 아카이브 - 바닐라 자바스크립트 버전</p>
    </footer>

    <script>
        const historyEvents = [
            { year: 1454, era: "전근대", title: "세종실록지리지", desc: "우산(독도)과 무릉(울릉도)이 강원도 울진현에 속한다고 명확히 기록한 조선의 관찬 문헌." },
            { year: 1531, era: "전근대", title: "신증동국여지승람", desc: "독도가 조선의 영토임을 다시 한번 확증하는 지리지 편찬." },
            { year: 1667, era: "전근대", title: "은주시청합기", desc: "일본의 문헌임에도 독도가 일본의 영토 밖(조선의 땅)임을 기록한 반증 사료." },
            { year: 1693, era: "전근대", title: "1차 안용복 사건", desc: "안용복이 일본으로 끌려가 독도가 조선 땅임을 강력하게 주장한 사건." },
            { year: 1696, era: "전근대", title: "2차 안용복 사건", desc: "일본 막부로부터 '울릉도 도해 금지령'을 끌어내어 영유권을 재확인." },
            { year: 1785, era: "전근대", title: "삼국접양지도", desc: "일본인 하야시 시헤이가 제작한 지도로, 독도를 조선의 색인 황색으로 표기." },
            { year: 1877, era: "근대", title: "태정관 지령", desc: "일본 최고 행정기관이 '독도와 울릉도는 일본과 관계없다'고 공식 결정한 문서." },
            { year: 1900, era: "근대", title: "대한제국 칙령 41호", desc: "고종 황제가 독도를 울릉군 관할로 공식 반포하여 근대 국제법적 영유권 확립." },
            { year: 1905, era: "근대", title: "시마네현 고시 40호", desc: "일제가 러일전쟁 중 독도를 불법적으로 자국 영토에 편입하려 시도함." },
            { year: 1906, era: "근대", title: "심흥택 보고서", desc: "울릉군수 심흥택이 독도의 불법 편입 소식을 듣고 본국 정부에 긴급 보고함." },
            { year: 1946, era: "현대", title: "SCAPIN 제677호", desc: "연합군최고사령관 지령으로 독도를 일본의 통치 범위에서 명확히 배제함." },
            { year: 1951, era: "현대", title: "샌프란시스코 강화조약", desc: "일본의 주권 회복 과정에서 독도 명칭 누락으로 향후 분쟁의 불씨가 됨." },
            { year: 1952, era: "현대", title: "평화선 선포", desc: "이승만 대통령이 독도를 포함한 인접 해양의 주권을 대내외에 선포함." },
            { year: 1953, era: "현대", title: "독도의용수비대", desc: "민간 차원의 수호 활동으로 실효적 지배를 공고히 함." },
            { year: 1965, era: "현대", title: "한일기본조약", desc: "독도 문제를 명시적으로 해결하지 않고 봉합하여 갈등이 잠복됨." },
            { year: 1998, era: "현대", title: "신한일어업협정", desc: "독도가 중간수역에 포함되며 영유권 수호의 중요성이 다시 부각됨." },
            { year: 2005, era: "현대", title: "다케시마의 날 제정", desc: "일본 시마네현의 조례 제정으로 역사 왜곡과 도발이 공식화됨." },
            { year: 2011, era: "현대", title: "일본 교과서 왜곡", desc: "검정 교과서에 독도 영유권을 주장하는 기술을 강화하여 미래 세대를 선동함." }
        ];

        const eraColorMap = { "전근대": "#10b981", "근대": "#f59e0b", "현대": "#3b82f6" };

        function renderTimeline() {
            const container = document.getElementById('timeline-body');
            historyEvents.forEach((ev) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';
                item.id = `ev-${ev.year}`;
                
                const color = eraColorMap[ev.era];
                
                item.innerHTML = `
                    <div class="timeline-dot" style="background: ${color}"></div>
                    <div class="timeline-content">
                        <span class="item-year" style="color: ${color}">${ev.year}</span>
                        <h3 class="item-title">${ev.title}</h3>
                        <p class="item-desc">${ev.desc}</p>
                    </div>
                `;
                container.appendChild(item);
            });

            // Intersection Observer for animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, { threshold: 0.2 });

            document.querySelectorAll('.timeline-content').forEach(el => observer.observe(el));
        }

        function initStats() {
            const stats = historyEvents.reduce((acc, curr) => {
                acc[curr.era] = (acc[curr.era] || 0) + 1;
                return acc;
            }, {});

            document.getElementById('count-pre').innerText = stats["전근대"];
            document.getElementById('count-mod').innerText = stats["근대"];
            document.getElementById('count-con').innerText = stats["현대"];

            const ctx = document.getElementById('historyChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['전근대', '근대', '현대'],
                    datasets: [{
                        data: [stats["전근대"], stats["근대"], stats["현대"]],
                        backgroundColor: ['#10b981', '#f59e0b', '#3b82f6'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom' } },
                    cutout: '75%'
                }
            });
        }

        function scrollToYear(year) {
            const target = document.getElementById(`ev-${year}`);
            if (target) {
                const navHeight = 80;
                const pos = target.getBoundingClientRect().top + window.pageYOffset - navHeight;
                window.scrollTo({ top: pos, behavior: 'smooth' });
            }
        }

        window.onload = () => {
            renderTimeline();
            initStats();
        };
    </script>
</body>
</html>
